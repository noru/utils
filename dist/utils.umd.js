!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.Utils={})}(this,function(e){"use strict";function n(e){return"number"==typeof e}function t(e){return null==e||"object"!=typeof e}function r(e){var n;if(t(e))return e;if(e instanceof Date)return(n=new Date).setTime(e.getTime()),n;if(e instanceof Array){n=[];for(var u=0,o=e.length;u<o;u++)n[u]=r(e[u]);return n}if(e instanceof Object){n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=r(e[i]));return n}}function u(e,n){if(e===n)return!0;if(t(e))return e===n;if(e instanceof Date)return e.getTime()===n.getTime();if(e instanceof Array){if(e.length!==n.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!u(e[r],n[r]))return!1;return!0}if(e instanceof Object){for(var i in e){if(!n.hasOwnProperty(i))return!1;if(!u(e[i],n[i]))return!1}return!0}}function o(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce(function(e,n){if(!t(e)&&!t(n)){for(var r in n)e[r]=o(e[r],n[r]);return e}return i(e)||i(n)?e||n:e=n})}function i(e){return null===e||void 0===e}function l(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!1;for(var n in e)if(Object.hasOwnProperty.call(e,n))return!1;return!0}function c(e,n,t){if("object"!=typeof e)throw Error("Original input must be an object, not "+typeof e);return void 0===e[n]&&(e[n]=t),e}function f(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function a(e,n,t,r){if(void 0===t&&(t=[]),void 0===r&&(r={i:0}),!f(e))throw new Error("Argument is not an array: "+e+". position: "+t);return e.map(function(e,u){return f(e)?a(e,n,t.concat([u]),r):n(e,t.concat([u]),r.i++)})}function s(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=n.pop();if(f(r)||(n.push(r),r=void 0),1===n.length){var u=n[0];if("number"!=typeof u)throw Error("Index "+JSON.stringify(u)+" is not a number");if(void 0!==e&&e.length>u)return r&&r.push(e),e[u];throw Error("Out of bound")}var o=n[0],i=n.slice(1);return r&&r.push(e)&&i.push(r),s.apply(void 0,[e[o]].concat(i))}function d(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return 0===n.length?e:(f(e)||(e=[e]),n.reduce(function(n,t){return n===e?t.apply(void 0,n):t(n)},e))}function p(e,n){try{return e()}catch(e){return n}}function m(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return void 0===e[0]?Math.random():1===e.length?Math.random()*e[0]:Math.random()*(e[1]-e[0])+e[0]}function g(e){if(!e)return null;var n=getComputedStyle(e).backgroundColor;return"rgba(0, 0, 0, 0)"===n?g(e.parentElement):n}function h(){return!!document.fullscreenElement||!!document.webkitFullscreenElement}function v(){var e=window.document;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement||(e.documentElement.requestFullscreen?e.documentElement.requestFullscreen():e.documentElement.msRequestFullscreen?e.documentElement.msRequestFullscreen():e.documentElement.mozRequestFullScreen?e.documentElement.mozRequestFullScreen():e.documentElement.webkitRequestFullscreen&&e.documentElement.webkitRequestFullscreen())}function y(){var e=window.document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.webkitCancelFullscreen&&e.webkitCancelFullscreen()}var w={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return w.Android()||w.BlackBerry()||w.iOS()||w.Windows()}};e.isArray=f,e.isNullOrEmpty=function(e){return null===e||void 0===e||0===e.length},e.deepMap=a,e.shallowEqual=function(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(var t in e)if(e[t]!==n[t])return!1;return!0},e.swap=function(e,t,r){n(t)&&(t=[t]),n(r)&&(r=[r]);var u=[],o=[],i=s.apply(void 0,[e].concat(t,[u])),l=s.apply(void 0,[e].concat(r,[o]));u[u.length-1][t[t.length-1]]=l,o[o.length-1][r[r.length-1]]=i},e.pick=s,e.unflatten=function(e,n,t,r){if(void 0===r&&(r="__children__"),0===e.length||1===e.length)return e;var u=new Array,o=new Map,i=new Map;return e.forEach(function(e){var l=e[t],f=e[n];if(o.set(f,e),l){var a=o.get(l);if(a)c(a,r,[])[r].push(e);else{var s=i.get(l)||new Array;s.push(e),i.set(l,s)}}else u.push(e),i.get(f)&&c(e,r,[])[r].push(e)}),[i,o].forEach(function(e){return e.clear()}),u},e.isMobile=w,e.identity=function(e){return e},e.noop=function(){},e.flow=d,e.apply=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d.apply(void 0,e)},e.attempt=p,e.Try=function(e,n){return p(e,n)},e.isNumber=n,e.toPercentage=function(e,n){return void 0===n&&(n=0),(100*e).toFixed(n)+"%"},e.isBetween=function(e,n,t,r){return void 0===r&&(r=[!0,!0]),(r[0]?e>=n:e>n)&&(r[1]?e<=t:e<n)},e.isPremitive=t,e.recursiveCopy=r,e.isEqual=u,e.merge=o,e.isEmpty=l,e.flattenDeepBy=function(e,n){if(l(e)||"number"==typeof e||"string"==typeof e)return[];if(f(e)||(e=[e]),"string"==typeof n){var t=n;n=function(e){return e[t]}}for(var r=new Array;e.length>0;){var u=e.shift();r.push(u);var o=n(u);f(o)&&(e=o.concat(e))}return r},e.defaults=c,e.random=m,e.randomInt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Math.round(m.apply(void 0,e))},e.randomBool=function(){return Math.random()>.5},e.ellipsis=function(e,n){if("string"!=typeof e)throw new Error(JSON.stringify(e)+" is not a string");return e.length>n?e.substring(0,n)+"â€¦":e},e.parseQuery=function(e){for(var n={},t=0,r=("?"===e[0]?e.substr(1):e).split("&");t<r.length;t++){var u=r[t].split("="),o=u[0],i=u[1];o&&(n[decodeURIComponent(o)]=decodeURIComponent(i||""))}return n},e.actualBgColor=g,e.toggleFullscreen=function(){h()?y():v()},e.isFullscreen=h,e.requestFullscreen=v,e.exitFullscreen=y,Object.defineProperty(e,"__esModule",{value:!0})});
